# 简约美观的 tmux 主题配置
# 复制到 ~/.tmux.conf 然后运行: tmux source-file ~/.tmux.conf

# ========== 基础设置 ==========
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
set -g prefix C-b
# unbind C-b
# bind C-a send-prefix
set -g mouse on
set -g base-index 1
setw -g pane-base-index 1
bind r source-file /home/jiangmingxing/software/Tmux-Elegent/config/tmux.conf \; display "reload config!"
setw -g mode-keys vi
set -g set-clipboard on
set -g allow-passthrough on

# ========== 快捷键方案 ==========
# 必须按住 Ctrl+a 不放的组合键

# 窗格切换：Ctrl+a + 方向键
bind -r Left select-pane -L
bind -r Down select-pane -D
bind -r Up select-pane -U
bind -r Right select-pane -R

# 窗格调整大小：Ctrl+a + Shift+方向键
bind -r S-Left resize-pane -L 5
bind -r S-Down resize-pane -D 5
bind -r S-Up resize-pane -U 5
bind -r S-Right resize-pane -R 5

# 窗口切换：Ctrl+a + Ctrl+方向键
bind -r C-Left previous-window
bind -r C-Right next-window
bind -r C-Up select-window -t :-  # 修正：改为 select-window
bind -r C-Down select-window -t :+  # 修正：改为 select-window

# 创建窗格
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# 创建窗口
bind c new-window -c "#{pane_current_path}"

# 其他功能
bind z resize-pane -Z
bind C-l send-keys 'C-l'
bind x kill-pane
bind X kill-window
bind , command-prompt -I "#W" "rename-window '%%'"
bind y setw synchronize-panes
set -sg escape-time 500

# 复制模式
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection
bind -T copy-mode-vi r send-keys -X rectangle-toggle

# ========== 主题设置 ==========
# ========== Theme Settings with Rounded Corners ==========
# Colors matching WezTerm cyberpunk orange theme
set -g status-bg "#0a0a14"           # Status bar background
set -g status-fg "#666699"           # Status bar text color

# Window status - rounded corners using Powerline characters
# Inactive windows
setw -g window-status-format "#[fg=#1a1a2e,bg=#0a0a14]#[fg=#666699,bg=#1a1a2e] #I: #W #[fg=#1a1a2e,bg=#0a0a14]"
# Active window
setw -g window-status-current-format "#[fg=#FF8C00,bg=#0a0a14]#[fg=#000000,bg=#FF8C00,bold] #I: #W #[fg=#FF8C00,bg=#0a0a14]"

# Status bar position
set -g status-position bottom
set -g status-interval 1

# Status left - session name with rounded corners
set -g status-left "#[fg=#FF8C00,bg=#0a0a14]#[fg=#000000,bg=#FF8C00,bold] #S #[fg=#FF8C00,bg=#0a0a14]"
set -g status-left-length 50

# Status right - time and date with rounded corners
set -g status-right "#[fg=#1a1a2e,bg=#0a0a14]#[fg=#666699,bg=#1a1a2e] %H:%M #[fg=#1a1a2e,bg=#0a0a14]#[fg=#FF8C00,bg=#0a0a14]#[fg=#000000,bg=#FF8C00] %Y-%m-%d #[fg=#FF8C00,bg=#0a0a14]"
set -g status-right-length 100

# Pane borders
set -g pane-border-style fg="#666699"
set -g pane-active-border-style fg="#FF8C00"

# Message style
set -g message-style bg="#FF8C00",fg="#000000",bold

# Display panes
set -g display-panes-colour "#FF8C00"
set -g display-panes-active-colour "#00FF00"  # Cyberpunk green

# Window settings
setw -g automatic-rename on
set -g renumber-windows on
set -g history-limit 10000
